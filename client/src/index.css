@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 40 33% 98%;
    --foreground: 0 0% 18%;
    --card: 40 33% 96%;
    --card-foreground: 0 0% 18%;
    --popover: 40 33% 98%;
    --popover-foreground: 0 0% 18%;
    --primary: 25 95% 53%;
    --primary-foreground: 0 0% 100%;
    --secondary: 40 30% 90%;
    --secondary-foreground: 0 0% 18%;
    --muted: 40 20% 92%;
    --muted-foreground: 0 0% 45%;
    --accent: 40 30% 88%;
    --accent-foreground: 0 0% 18%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 70%;
    --input: 0 0% 70%;
    --ring: 25 95% 53%;
    --radius: 0.75rem;
  }

  .dark {
    --background: 0 0% 12%;
    --foreground: 40 33% 95%;
    --card: 0 0% 15%;
    --card-foreground: 40 33% 95%;
    --popover: 0 0% 12%;
    --popover-foreground: 40 33% 95%;
    --primary: 25 95% 53%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 20%;
    --secondary-foreground: 40 33% 95%;
    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 65%;
    --accent: 0 0% 25%;
    --accent-foreground: 40 33% 95%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 35%;
    --input: 0 0% 35%;
    --ring: 25 95% 53%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-sketch-paper text-foreground;
    font-family: "ZCOOL KuaiLe", "Noto Serif", "Comic Neue", "Patrick Hand", cursive, sans-serif;
    background-image: 
      radial-gradient(#e8e4de 1px, transparent 1px),
      radial-gradient(#e8e4de 1px, transparent 1px);
    background-size: 20px 20px;
    background-position: 0 0, 10px 10px;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* 手绘风格样式 */
@layer components {
  /* 基础手绘按钮 */
  .sketch-button {
    @apply relative px-6 py-3 font-hand font-bold text-xl tracking-wide;
    @apply bg-white border-2 border-sketch-ink rounded-sketch;
    @apply shadow-sketch transition-all duration-200;
    @apply hover:shadow-sketch-lg hover:-translate-y-1 hover:rotate-1;
    @apply active:shadow-sketch-sm active:translate-y-0 active:rotate-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:transform-none;
  }

  .sketch-button-primary {
    @apply sketch-button bg-pastel-yellow hover:bg-yellow-200;
  }

  .sketch-button-secondary {
    @apply sketch-button bg-white hover:bg-gray-50;
  }

  .sketch-button-accent {
    @apply sketch-button bg-pastel-pink hover:bg-pink-200 text-sketch-ink;
  }

  /* 手绘卡片 */
  .sketch-card {
    @apply bg-white border-2 border-sketch-ink rounded-sketch;
    @apply shadow-sketch p-6 relative overflow-hidden;
  }

  /* 装饰性胶带效果 */
  .sketch-tape {
    @apply absolute h-8 w-24 bg-white/80 border border-white/20 shadow-sm;
    @apply -top-3 left-1/2 -translate-x-1/2 rotate-[-2deg];
    background-image: linear-gradient(45deg, rgba(255,255,255,0.5) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0.5) 75%, transparent 75%, transparent);
    background-size: 4px 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    opacity: 0.6;
  }

  /* 手绘输入框 */
  .sketch-input {
    @apply w-full bg-transparent border-b-2 border-sketch-ink/50;
    @apply px-3 py-2 font-hand text-2xl text-sketch-ink;
    @apply focus:outline-none focus:border-sketch-ink focus:border-b-4;
    @apply placeholder:text-sketch-pencil/40 transition-all;
    border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
  }

  /* 笔记本页面样式 */
  .notebook-page {
    @apply bg-white shadow-sketch-lg relative;
    background-image: linear-gradient(#e5e7eb 1px, transparent 1px);
    background-size: 100% 2rem;
    line-height: 2rem;
    padding-top: 2rem;
  }
  
  .notebook-holes {
    @apply absolute left-4 top-0 bottom-0 w-8 flex flex-col gap-8 py-8;
    border-right: 2px solid #fca5a5; /* 红线 */
  }
  
  .notebook-hole {
    @apply w-4 h-4 rounded-full bg-sketch-paper shadow-inner border border-gray-200;
  }
}

/* 动画关键帧 */
@keyframes wiggle {
  0%, 100% { transform: rotate(-1deg); }
  50% { transform: rotate(1deg); }
}

.animate-wiggle {
  animation: wiggle 0.3s ease-in-out infinite;
}

/* 滚动条美化 */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border: 2px solid #faf8f5;
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}
